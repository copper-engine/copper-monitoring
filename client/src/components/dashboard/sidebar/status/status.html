<v-card color="primary" class="white--text engine-status">
    <v-card-title primary-title>
        <v-layout>
            <v-flex class="status-icon-cont">
                <v-icon 
                    v-show="status" 
                    class="status-icon" 
                    color="light-green accent-4">
                    mdi-brightness-1
                </v-icon> 
                <v-icon 
                    v-show="!status" 
                    class="status-icon" 
                    color="red darken-4"> 
                    mdi-brightness-1
                </v-icon> 
            
            </v-flex>

            <v-flex class="headline">
                <span v-if="status" class="line header">
                    <div class="engine-id">{{status.engineId}}</div>
                    <div class="type">{{status.type}}</div>
                </span>
                
                <span v-show="!status" class="line header">{{ connectionSettings.host + ':' + connectionSettings.port }}</span>
            </v-flex>
            <v-flex class="settings-btn-cont">
                <v-btn dark icon @click.stop="$emit('showSettings')" class="settings-btn">
                    <v-icon v-html="'settings'" :class="{'active': true}"></v-icon>
                </v-btn>
            </v-flex>
        </v-layout>
        <div v-if="status" class="engine-status-info">
            <div class="line wf-number">
                <span class="status-title">
                    WF instances:
                </span>
                <span class="value">
                    {{status.instances}}
                </span>
            </div>
            <div class="line broken">
                 <span class="status-title">
                    Broken WF instances:
                </span>
                <span class="value">
                    {{ status.brokenWFCount }}
                </span>
            </div>
            <div class="line last-processing">
                <span class="status-title">
                    Last activity:
                </span>
                <span class="value">
                    {{status.lastProcessing | moment("HH:mm DD/MM/YYYY")}}
                </span>
            </div>
            <div class="line running-since">
                <span class="status-title">
                    Started:
                </span>
                <span class="value">
                    {{status.runningSince | moment("HH:mm DD/MM/YYYY")}}
                </span>
            </div>

        </div>
    </v-card-title>
</v-card>